(this["webpackJsonpteningar-client"]=this["webpackJsonpteningar-client"]||[]).push([[0],{117:function(e,t,c){},118:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),i=c.n(a),r=c(23),s=c.n(r),o=(c(78),c(79),c(6)),j=c(137),l=c(145),u=c(146),b=c(147),O=c(150),d=c(148),x=c(24),m=c.n(x),h=(c(43),Object(a.forwardRef)((function(e,t){var c,a;return Object(n.jsx)(m.a,{dotColor:null!==(c=e.dotColor)&&void 0!==c?c:"#eeeeee",faceColor:null!==(a=e.faceColor)&&void 0!==a?a:"#111111",numDice:e.numberOfDice,rollTime:.5,ref:t,disableIndividual:!0})}))),f=function(){var e=Object(a.useState)(6),t=Object(o.a)(e,2),c=t[0],i=t[1],r=Object(a.useState)("#EEEEEE"),s=Object(o.a)(r,2),l=s[0],u=s[1],x=Object(a.useState)("#111111"),m=Object(o.a)(x,2),f=m[0],g=m[1],p=Object(a.createRef)();return Object(n.jsxs)(j.a,{container:!0,spacing:2,justify:"center",alignItems:"center",style:{maxWidth:800,margin:"auto"},children:[Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(h,{dotColor:f,faceColor:l,numberOfDice:c,ref:p})}),Object(n.jsx)(j.a,{item:!0,xs:4,children:Object(n.jsx)(b.a,{color:"primary",variant:"contained",onClick:function(){p.current&&p.current.rollAll()},children:"Roll dice"})}),Object(n.jsx)(j.a,{item:!0,xs:4,children:Object(n.jsx)(b.a,{color:"primary",variant:"contained",onClick:function(){c>0&&i(c-1)},children:"Remove dice"})}),Object(n.jsx)(j.a,{item:!0,xs:4,children:Object(n.jsx)(b.a,{color:"primary",variant:"contained",onClick:function(){i(c+1)},children:"Add dice"})}),Object(n.jsxs)(j.a,{item:!0,xs:6,children:[Object(n.jsx)(O.a,{children:"Face color"}),Object(n.jsx)(d.a,{value:l,onChange:function(e){return u(e.target.value)}})]}),Object(n.jsxs)(j.a,{item:!0,xs:6,children:[Object(n.jsx)(O.a,{children:"Dot color"}),Object(n.jsx)(d.a,{label:"Dot color",value:f,onChange:function(e){return g(e.target.value)}})]})]})},g=c(69),p=c.n(g),y={ENDPOINT:window.location.hostname},v=c(139),k=c(119),C=c(140),S=c(141),D=c(142),T=c(143),G=c(144),N=function(e){var t={fontWeight:"bold",textAlign:"center"},c={textAlign:"center"};return Object(n.jsx)(v.a,{style:{margin:"auto",width:300},component:k.a,children:Object(n.jsxs)(C.a,{children:[Object(n.jsx)(S.a,{children:Object(n.jsxs)(D.a,{children:[Object(n.jsx)(T.a,{style:t,children:"Name"}),Object(n.jsx)(T.a,{style:t,children:"Score"})]})}),Object(n.jsx)(G.a,{children:e.players.map((function(e){return Object(n.jsxs)(D.a,{children:[Object(n.jsxs)(T.a,{style:c,children:[e.name," "]}),Object(n.jsx)(T.a,{style:c,children:e.score})]},e.name)}))})]})})},E=c(20),I=c(151),w=c(149),R=Object(a.createRef)(),V=function(e){var t=Object(a.useState)({numberOfDice:0,diceValue:1}),c=Object(o.a)(t,2),i=c[0],r=c[1];return Object(a.useEffect)((function(){R.current&&i.diceValue&&R.current.rollAll([i.diceValue])}),[i.diceValue]),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsxs)(l.a,{style:{margin:"auto",padding:15,maxWidth:400},children:[Object(n.jsx)(I.a,{title:"Guess the dice"}),Object(n.jsxs)(u.a,{children:[Object(n.jsxs)(j.a,{item:!0,xs:12,style:{paddingTop:15},children:[Object(n.jsx)(O.a,{children:"Number of Dice"}),Object(n.jsx)(d.a,{type:"number",value:i.numberOfDice,onChange:function(e){var t=parseInt(e.target.value);r(t?Object(E.a)(Object(E.a)({},i),{},{numberOfDice:parseInt(e.target.value)}):Object(E.a)(Object(E.a)({},i),{},{numberOfDice:""}))}})]}),Object(n.jsxs)(j.a,{item:!0,xs:12,style:{paddingTop:15,paddingBottom:15},children:[Object(n.jsx)(O.a,{children:"Dice value"}),Object(n.jsx)(w.a,{marks:!0,value:i.diceValue,onChange:function(e,t){r(Object(E.a)(Object(E.a)({},i),{},{diceValue:t})),R.current.rollAll([t])},min:1,max:6})]}),Object(n.jsxs)(j.a,{item:!0,xs:12,children:[i.numberOfDice," of",Object(n.jsx)(m.a,{dotColor:"#eeeeee",faceColor:"#111111",numDice:1,rollTime:.1,disableIndividual:!0,ref:R})]}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{variant:"outlined",onClick:function(){return e.sendGuess(i)},children:"Send Guess"})}),e.illegalGuess&&Object(n.jsx)(j.a,{item:!0,xs:12,children:"Guess was illegal"})]})]})})},A=function(e){return Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(l.a,{style:{margin:"auto",maxWidth:400},children:Object(n.jsxs)(u.a,{children:[Object(n.jsxs)(j.a,{item:!0,xs:12,children:[e.playerGuessingDice," betting on dice"]}),Object(n.jsxs)(j.a,{item:!0,xs:12,children:[e.playerGuessingTruth," calling ",e.playerGuessingDice,"'s bet"]}),e.isGuessTurn?Object(n.jsxs)(j.a,{item:!0,xs:12,children:[e.playerGuessingDice," is about to make the bet"]}):Object(n.jsxs)(j.a,{item:!0,xs:12,children:[e.playerGuessingDice," has made the bet"]})]})})})},P=function(e){return Object(n.jsxs)(l.a,{style:{margin:"auto",marginBottom:20},children:[Object(n.jsx)(I.a,{title:"Is the guess truth or Bluff?"}),Object(n.jsxs)(u.a,{children:[Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{variant:"outlined",color:"primary",onClick:function(){return e.sendTruth(!0)},children:"Truth"})}),Object(n.jsx)(j.a,{item:!0,xs:12,style:{marginTop:15},children:Object(n.jsx)(b.a,{variant:"outlined",color:"secondary",onClick:function(){return e.sendTruth(!1)},children:"Bluffing"})})]})]})},B=Object(a.createRef)(),W=Object(a.createRef)(),L=function(e){var t=Object(a.useState)([]),c=Object(o.a)(t,2),i=c[0],r=c[1],s=Object(a.useState)(!1),b=Object(o.a)(s,2),O=b[0],d=b[1],x=Object(a.useState)(!1),f=Object(o.a)(x,2),g=f[0],p=f[1],y=Object(a.useState)(!1),v=Object(o.a)(y,2),k=v[0],C=v[1],S=Object(a.useState)(""),D=Object(o.a)(S,2),T=D[0],G=D[1],E=Object(a.useState)(""),I=Object(o.a)(E,2),w=I[0],R=I[1],L=Object(a.useState)({diceValue:1,numberOfDice:0}),F=Object(o.a)(L,2),J=F[0],M=F[1],Y=Object(a.useState)(!0),U=Object(o.a)(Y,2),q=U[0],z=U[1];Object(a.useEffect)((function(){e.socket&&(e.socket.on("diceRolled",(function(e){r(e),B.current&&B.current.rollAll(e)})),W.current&&W.current.rollAll([1]),e.socket.on("turnInfo",(function(e){R(e.playerGuessingDice),G(e.playerGuessingTruth),M(e.currentGuess),z(e.isGuessTurn),W.current.rollAll([e.currentGuess.diceValue])})),e.socket.on("getGuess",(function(){p(!0)})),e.socket.on("getTruth",(function(){C(!0)})))}),[e.socket]);return Object(n.jsxs)(j.a,{container:!0,spacing:2,children:[Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(h,{ref:B,numberOfDice:i.length})}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(l.a,{style:{maxWidth:200,margin:"auto"},children:Object(n.jsxs)(u.a,{children:["Current guess is ",J.numberOfDice," of",function(){var t,c;return Object(n.jsx)(m.a,{dotColor:null!==(t=e.dotColor)&&void 0!==t?t:"#ee77ee",faceColor:null!==(c=e.faceColor)&&void 0!==c?c:"#6f1111",numDice:1,rollTime:.1,disableIndividual:!0,ref:W})}()]})})}),g&&Object(n.jsx)(V,{socket:e.socket,setDiceGuessTurn:p,illegalGuess:O,sendGuess:function(t){Number.isInteger(t.diceValue)&&Number.isInteger(t.numberOfDice)&&t.diceValue>0&&t.diceValue<=6&&(e.socket.emit("sendGuess",t),e.socket.once("legalGuess",(function(e){e?(p(!1),d(!1)):d(!0)})))}}),k&&Object(n.jsx)(P,{sendTruth:function(t){e.socket.emit("sendTruth",t),C(!1)}}),Object(n.jsx)(A,{playerGuessingDice:w,playerGuessingTruth:T,isGuessTurn:q}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)("h5",{children:"Players in game"})}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(N,{players:e.players})})]})},F=function(e){var t=Object(a.useState)([]),c=Object(o.a)(t,2),i=c[0],r=c[1],s=Object(a.useState)([]),l=Object(o.a)(s,2),u=l[0],O=l[1],d=Object(a.useState)(!1),x=Object(o.a)(d,2),m=x[0],h=x[1],f=Object(a.useState)(!1),g=Object(o.a)(f,2),p=g[0],y=g[1];Object(a.useEffect)((function(){e.socket.on("playerUpdate",(function(e){r(e),O(e)})),e.socket.on("allowStartGame",(function(e){h(!0)})),e.socket.on("gameStarted",(function(){y(!0)})),e.socket.on("gameOver",(function(e){y(!1),r(e),O(e)}))}),[e.socket]);var v=function(){e.socket.emit("startGame",{})};return p?Object(n.jsx)(L,{players:i,socket:e.socket}):Object(n.jsxs)(j.a,{container:!0,spacing:2,children:[Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsxs)("h3",{children:["Waiting room for room '",e.roomName,"'"]})}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)("p",{children:"Waiting for leader to press play."})}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)("p",{children:"You want the least points. You get 0 points for winning. You get 1 point if a there was one person to finish before you and etc."})}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)("h5",{children:"Players waiting"})}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(N,{players:u})}),m&&Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{onClick:v,variant:"contained",children:"Start game"})})]})},J=y.ENDPOINT,M=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],i=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),O=s[0],x=s[1],m=Object(a.useState)(!1),h=Object(o.a)(m,2),f=h[0],g=h[1],y=Object(a.useState)(void 0),v=Object(o.a)(y,2),k=v[0],C=v[1],S=Object(a.useState)(!1),D=Object(o.a)(S,2),T=D[0],G=D[1],N=Object(a.useState)(""),E=Object(o.a)(N,2),I=E[0],w=E[1];Object(a.useEffect)((function(){var e=p()(J);console.log("Endpoint",J),C(e),e.on("connectedToRoomCallBack",(function(e){}))}),[]);var R=function(){k.emit("connectToRoom",{playerName:O,roomName:c}),k.once("errorJoining",(function(e){e.errorJoining?(G(!0),w(e.errorMsg)):(g(!0),G(!1),w(""))}))};return f?Object(n.jsx)(F,{roomName:c,socket:k}):Object(n.jsxs)(j.a,{container:!0,spacing:2,children:[Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)("h3",{children:"Online dice page"})}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)("p",{children:'In room name write some name, e.g. "party", "p" or anything. Then make your friends write the same name to connect to your room.'})}),Object(n.jsx)(l.a,{style:{margin:"auto"},children:Object(n.jsxs)(u.a,{children:[Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(d.a,{value:O,onChange:function(e){return x(e.target.value)},placeholder:"Name"})}),Object(n.jsx)(j.a,{item:!0,xs:12,style:{paddingTop:15,paddingBottom:15},children:Object(n.jsx)(d.a,{placeholder:"Room name",value:c,onChange:function(e){return i(e.target.value)}})}),Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(b.a,{color:"primary",variant:"contained",onClick:R,children:"Connect to room"})}),T&&Object(n.jsx)(j.a,{item:!0,xs:12,children:I})]})})]})},Y=(c(117),function(){var e=Object(a.useState)("NONE"),t=Object(o.a)(e,2),c=t[0],i=t[1];return Object(n.jsxs)(j.a,{container:!0,spacing:2,justify:"center",alignItems:"center",className:"container",children:["SIMPLE"===c&&Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(f,{})}),"ONLINE"===c&&Object(n.jsx)(j.a,{item:!0,xs:12,children:Object(n.jsx)(M,{})}),"NONE"===c&&Object(n.jsx)(l.a,{style:{width:300,marginTop:30},children:Object(n.jsxs)(u.a,{children:[Object(n.jsx)(j.a,{item:!0,xs:6,style:{paddingBottom:20,margin:"auto"},children:Object(n.jsx)(b.a,{color:"primary",variant:"contained",onClick:function(){return i("SIMPLE")},children:"Play simple"})}),Object(n.jsx)(j.a,{item:!0,xs:6,style:{margin:"auto"},children:Object(n.jsx)(b.a,{color:"secondary",variant:"contained",onClick:function(){return i("ONLINE")},children:"Play online"})})]})})]})});var U=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("div",{className:"header",children:"Dice game"}),Object(n.jsx)(Y,{})]})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,153)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(U,{})}),document.getElementById("root")),q()},78:function(e,t,c){},79:function(e,t,c){}},[[118,1,2]]]);
//# sourceMappingURL=main.d272fce8.chunk.js.map